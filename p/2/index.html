<!DOCTYPE HTML>
<html lang="ru">
<head>
    <title>II. DOM &amp; AJAX</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="/shower/themes/bright/styles/screen.css">
    <style>
        .slide.cover.white {
            background: #fff;
        }
    </style>
</head>
<body class="list">
    <header class="caption">
        <h1>II. DOM &amp; AJAX</h1>
        <p>DOM, Events, Host Objects, AJAX, WebSocket и хранение данных.</p>
    </header>

    <section class="slide shout"><div>
        <h2>
            Фронтенд
        </h2>
     </div></section>

    <section class="slide shout"><div>
        <h2>
            I. DOM, Events
        </h2>
     </div></section>

    <section class="slide"><div>
        <h2>Native objects</h2>
        <figure>
            <blockquote>
                <p><strong>Native object</strong> — object in an ECMAScript implementation whose semantics are fully defined by this specification rather than by the host environment.</p>
            </blockquote>
            <figcaption><a href="http://es5.github.io/#x4.3.6">Section 4.3.6, ECMAScript 5.1 </a></figcaption>
        </figure>
    </div></section>

    <section class="slide"><div>
        <h2>Native objects</h2>
        <pre>
            <code>Object</code>
            <code>Array</code>
            <code>Date</code>
            <code>…</code>
            <code>Array.prototype.indexOf</code>
            <code>String.prototype.replace</code>
            <code>…</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Host objects</h2>
        <figure>
            <blockquote>
                <p><strong>Host object</strong> — object supplied by the host environment to complete the execution environment of ECMAScript.</p>
            </blockquote>
            <figcaption><a href="http://es5.github.io/#x4.3.8">Section 4.3.8, ECMAScript 5.1 </a></figcaption>
        </figure>
    </div></section>

    <section class="slide"><div>
        <h2>Host objects</h2>
        <pre>
            <code>window</code>
            <code>document</code>
            <code>history</code>
            <code>…</code>
            <code>document.getElementById</code>
            <code>…</code>
        </pre>
    </div></section>

    <section class="slide shout"><div>
        <h2>
            DOM
        </h2>
     </div></section>

    <section class="slide"><div>
        <h2>Document Object Model</h2>
        <ol>
            <li>DOM Core: Node, Element, Document, Event…</li>
            <li>DOM Events</li>
        </ol>
        <p class="note">
            <a href="https://developer.mozilla.org/en-US/docs/DOM/DOM_Reference">DOM Reference</a>
        </p>
    </div></section>

    <section class="slide"><div>
        <h2><code>Node</code></h2>
        <pre>
            <code>element.nodeType <mark class="comment">/* 1, 3… */</mark></code>
            <code>element.tagName <mark class="comment">/* "DIV", "A"… */</mark></code>
            <code>element.nodeValue</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Обход дерева</h2>
        <pre>
            <code>element.previousSibling || element.nextSibling</code>
            <code class="next">element.firstChild || element.lastChild</code>
            <code class="next">element.parentNode</code>
            <code class="next">element.childNodes</code>
            <code class="next">element.children</code>
        </pre>
        <p clas="note">
            <a href="/d/dom.html">Демонстрация</a>
        </p>
    </div></section>

    <section class="slide"><div>
        <h2>Поиск элемента</h2>
        <pre>
            <code>document.getElementById <mark class="comment">/* element */</mark></code>
            <code class="next">element.getElementsByTagName <mark class="comment">/* HTMLCollection */</mark></code>
            <code class="next">element.getElementsByClassName <mark class="comment">/* HTMLCollection */</mark></code>
            <code class="next">element.querySelector <mark class="comment">/* element */</mark></code>
            <code class="next">element.querySelectorAll <mark class="comment">/* elementList */</mark></code>
        </pre>
        <p clas="note">
            <a href="/d/selectors.html">Демонстрация</a>
        </p>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>jQuery</h2>
        <pre>
            <code>$('#page') <mark class="comment">/* ⟷ document.getElementById('page') */</mark></code>
            <code class="next">$('div') <mark class="comment">/* ⟷ document.getElementsByTagName('div') */</mark></code>
            <code class="next">$('.link') <mark class="comment">/* ⟷ document.getElementsByClassName('link') */</mark></code>
            <div class="next">
                <code>$('#page div .link') <mark class="comment">/* ⟷</mark></code>
                <code><mark class="comment">    document.querySelectorAll('#page div .link') */</mark></code>
            </div>
        </pre>
    </div></section>

    </div></section>

    <section class="slide"><div>
        <h2><code>HTMLCollection</code> (live-<code>NodeList</code>)</h2>
        <pre>
            <code>length</code>
            <code>item(index)</code>
            <code>[index]</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2><code>HTMLCollection</code> (live-<code>NodeList</code>)</h2>
        <pre>
            <code>var links = document.getElementsByTagName('a');</code>
            <code>for (var i = 0, l = links.length; i &lt; l; i++) {</code>
            <code>    <mark class="comment">/* links[i] */</mark></code>
            <code>}</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2><code>HTMLCollection</code> vs. <code>Array</code></h2>
        <pre>
            <code>length</code>
            <code>[index]</code>
            <div class="next">
                <code>forEach(fn)</code>
                <code>map(fn)</code>
                <code>indexOf(item)</code>
                <code>…</code>
            </div>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2><code>HTMLCollection</code> vs. <code>Array</code></h2>
        <pre>
            <code>var links = document.getElementsByTagName('a');</code>
            <code>var linksArray = Array.prototype.slice.call(links);</code>
            <code>linksArray.forEach(function (link) {</code>
            <code>    <mark class="comment">/* link */</mark></code>
            <code>});</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>jQuery</h2>
        <pre>
            <code>$('a').each(function (i, link) {</code>
            <code>    var $this = $(this); <mark class="comment">/* link */</mark></code>
            <code>});</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Модификация узла</h2>
        <pre>
            <code>element.id = "" <mark class="comment">/* ⟷ id */</mark></code>
            <code>element.className = "" <mark class="comment">/* ⟷ class */</mark></code>
            <code>element.classList <mark class="comment">/* ⟷ class */</mark></code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Модификация узла</h2>
        <pre>
            <code>element.getAttribute("class")</code>
            <code>element.setAttribute("class", className)</code>
            <code>element.hasAttribute("class")</code>
            <code>element.removeAttribute("class")</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>jQuery</h2>
        <pre>
            <code>$(element).attr("class") <mark class="comment">/* ⟷ element.getAttribute("class") */</mark></code>
            <code>$(element).attr("class", className) <mark class="comment">/* ⟷</mark></code>
            <code><mark class="comment">    element.setAttribute("class", className) */</mark></code>
            <code>$(element).removeAttr("class") <mark class="comment">/* ⟷</mark></code>
            <code><mark class="comment">    element.removeAttribute("class") */</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2><code>attr</code> vs. <code>prop</code></h2>
        <pre>
            <code>&lt;input type="checkbox" checked="checked" /&gt;</code>
        </pre>
        <pre>
            <code>element.checked <mark class="comment">/* true */</mark></code>
            <code>$(element).prop("checked") <mark class="comment">/* true */</mark></code>
            <code>element.getAttribute("checked") <mark class="comment">/* "checked" */</mark></code>
            <code>$(element).attr("checked") <mark class="comment">/* "checked" */</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2><code>dataset</code></h2>
        <pre>
            <code>&lt;div data-value="true" data-company-name="Mail.ru" /&gt;</code>
        </pre>
        <pre>
            <code>element.dataset.value <mark class="comment">/* "true" */</mark></code>
            <code>element.dataset.companyName <mark class="comment">/* "Mail.ru" */</mark></code>
            <div class="next">
                <code>$(element).data("value") <mark class="comment">/* "true" */</mark></code>
                <code>$(element).data("companyName") <mark class="comment">/* "Mail.ru" */</mark></code>
            </div>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Модификация дерева</h2>
        <pre>
            <code>document.createElement("div")</code>
            <code class="next">parent.appendChild(child)</code>
            <code class="next">parent.insertBefore(child, referenceElement)</code>
            <code class="next">parent.removeChild(child)</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>jQuery</h2>
        <pre>
            <code>$("body").append("&lt;div class="page"&gt;…&lt;/div");</code>
            <code>$("&lt;div class="page"&gt;…&lt;/div").appendTo("body");</code>
            <code><mark class="comment">/* prepent, perependTo */</mark></code>
        </pre>
    </div></section>

    <section class="slide shout"><div>
        <h2>
            Events
        </h2>
     </div></section>

    <section class="slide cover h white"><div>
        <img src="/pics/event-flow.svg" alt="" />
    </div></section>

    <section class="slide"><div>
        <h2>Events</h2>
        <pre>
            <code>element.addEventListener(type, listener[, useCapture])</code>
            <code>element.removeEventListener(type, listener[, useCapture])</code>
        </pre>
        <p clas="note">
            <a href="/d/events.html">Демонстрация</a>
        </p>
        <!-- https://developer.mozilla.org/en-US/docs/Web/API/Event -->
    </div></section>

    <section class="slide"><div>
        <h2>jQuery</h2>
        <pre>
            <code>$(element).on(type, listener) <mark class="comment">/* ⟷</mark></code>
            <code><mark class="comment">    element.addEventListener(type, listener, false) */</mark></code>
            <code>$(element).on(type, listener) <mark class="comment">/* ⟷</mark></code>
            <code><mark class="comment">    element.removeEventListener(type, listener, false) */</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Свойства события</h2>
        <pre>
            <code>event.type</code>
            <code>evnet.eventPhase</code>
            <code>event.target</code>
            <code>event.curentTarget</code>
            <code>event.preventDefault()</code>
            <code>event.stopPropogation()</code>
            <code>event.stopImmediatePropagation()</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Источники событий</h2>
        <pre>
            <code>Element</code>
            <code>document</code>
            <code>window</code>
            <code>XMLHttpRequest</code>
            <code>…</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Input device events</h2>
        <pre>
            <code>click, dblclick</code>
            <code>contextmenu</code>
            <code>keydown, keyup, keypress</code>
            <code>mousein, mouseout, mousemove</code>
            <code>mouseenter, mouseleave</code>
            <code>mousedown, mouseup</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Form events</h2>
        <pre>
            <code>reset</code>
            <code>submit</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Focus events</h2>
        <pre>
            <code>focus</code>
            <code>blur</code>
            <code>change</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Document events</h2>
        <pre>
            <code>load, unload</code>
            <code>DOMContentLoaded</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Window events</h2>
        <pre>
            <code>hashchange</code>
            <code>resize</code>
        </pre>
        <!-- Демо -->
    </div></section>

    <section class="slide"><div>
        <h2>Event delegation</h2>
        <pre>
            <code>$('table').on('click', 'td', function (e) {</code>
            <code>    alert(e.target);</code>
            <code>});</code>
        </pre>
        <p clas="note">
            <a href="/d/events.html">Демонстрация</a>
        </p>
    </div></section>

    <section class="slide"><div>
        <h2>Домашнее задание</h2>
        <pre>
            <code>РЕАЛИЗАЦИЯ ИГРОВОЙ МЕХАНИКИ</code>
            <code>ДОРАБОТАТЬ ПРОТОТИП ПО ТЗ</code>
        </pre>
     </div></section>

    <section class="slide shout"><div>
        <h2>
            II. Сетевое взаимодействие
        </h2>
     </div></section>

    <section class="slide"><div>
        <h2>Uniform resource locator</h2>
        <pre>
            <code>scheme://domain:port/path?query_string#fragment_id</code>
            <div class="next">
                <code>location.protocol <mark class="comment">/* "scheme:" */</mark></code>
                <code>location.hostname <mark class="comment">/* "domain" */</mark></code>
                <code>location.port <mark class="comment">/* "port" */</mark></code>
                <code>location.pathname <mark class="comment">/* "/path" */</mark></code>
                <code>location.search <mark class="comment">/* "?query_string" */</mark></code>
                <code>location.hash <mark class="comment">/* "#fragment_id" */</mark></code>
            </div>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>HyperText Transfer Protocol</h2>
        <pre>
            <code>ПРОТОКОЛ ПРИКЛАДНОГО УРОВНЯ (7-ОЙ УРОВЕНЬ OSI)</code>
            <code>КЛИЕНТ (ЗАПРОС) — СЕРВЕР (ОТВЕТ)</code>
            <code>НЕ ХРАНИТ СОСТОЯНИЕ МЕЖДУ ЗАПРОСАМИ</code>
            <code>ПРОСТ В РЕАЛИЗАЦИИ</code>
            <code>РАСШИРЯЕМЫЙ</code>
            <code>РАСПРОСТРАНЕННЫЙ</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>OSI</h2>
        <pre>
            <code>ФИЗИЧЕСКИЙ (СРЕДА, СИГНАЛЫ, КОДЫ)</code>
            <code>КАНАЛЬНЫЙ (ФИЗИЧЕСКАЯ АДРЕСАЦИЯ)</code>
            <code>СЕТЕВОЙ (ЛОГИЧЕСКАЯ АДРЕСАЦИЯ, МАРШРУТИЗАЦИЯ)</code>
            <code>ТРАНСПОРТНЫЙ (НАДЕЖНОСТЬ)</code>
            <code>СЕАНСОВЫЙ (СЕССИИ)</code>
            <code>ПРЕДСТАВИТЕЛЬСКИЙ (СЖАТИЕ, ШИФРОВАНИЕ)</code>
            <code>ПРИКЛАДНОЙ (ДОСТУП К ДАННЫМ)</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>HTTP</h2>
        <pre>
            <code>1991 HTTP/0.9</code>
            <code>1996 HTTP/1.0</code>
            <code>1999 HTTP/1.1</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Структура протокола</h2>
        <pre>
            <code>СТАРТОВАЯ СТРОКА <mark class="comment">// &gt;= HTTP/0.9</mark></code>
            <code>ЗАГОЛОВКИ <mark class="comment">// &gt;= HTTP/1.0</mark></code>
            <code>ТЕЛО СООБЩЕНИЯ <mark class="comment">// &gt;= HTTP/1.0</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>http://mail.ru/</h2>
        <pre>
            <code>GET / HTTP/1.1</code>
            <code>Host: mail.ru</code>
            <code>Accept: text/html,application/xhtml+xml,…</code>
            <code>Connection: keep-alive</code>
            <code>Accept-Encoding: gzip,deflate,sdch</code>
            <code>Accept-Language: en-US,en;q=0.8,ru;q=0.6</code>
            <code>User-Agent: Mozilla/5.0 … Safari/537.36</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <pre>
            <code>HTTP/1.1 200 OK</code>
            <code>Date: Sun, 16 Feb 2014 22:09:34 GMT</code>
            <code>Server: Apache/1.3.27 (Unix) …</code>
            <code>Content-Encoding: gzip</code>
            <code>Connection: close</code>
            <code>Cache-Control: no-cache,no-store,must-revalidate</code>
            <code>Content-Length: 50316</code>
            <code>Content-Type: text/html; charset=utf-8</code>
            <code> </code>
            <code>&lt;!DOCTYPE html&gt;…</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Методы</h2>
        <pre>
            <code>GET <mark class="comment">// ЗАПРОС ДАННЫХ</mark></code>
            <code>POST <mark class="comment">// ПЕРЕДАЧА ДАННЫХ</mark></code>
            <code>PUT <mark class="comment">// ЗАГРУЗКА СОДЕРЖИМОГО ЗАПРОСА</mark></code>
            <code>DELETE <mark class="comment">// УДАЛЕНИЕ РЕСУРСА</mark></code>
            <code>HEAD <mark class="comment">// ПОЛУЧЕНИЕ ТОЛЬКО ЗАГОЛОВКОВ</mark></code>
            <code>OPTIONS <mark class="comment">// ОПРЕДЕЛЕНИЕ ВОЗМОЖНОСТЕЙ СЕРВЕРА</mark></code>
            <code>…</code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>Коды ответов</h2>
        <pre>
            <code>ИНФОРМАЦИОННЫЕ <mark class="comment">// 1xx</mark></code>
            <code>УСПЕШНЫЕ <mark class="comment">// 2xx</mark></code>
            <code>ПЕРЕНАПРАВЛЕНИЕ <mark class="comment">// 3xx</mark></code>
            <code>ОШИБКА КЛИЕНТА <mark class="comment">// 4xx</mark></code>
            <code>ОШИБКА СЕРВЕРА <mark class="comment">// 5xx</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <pre>
            <code>200 <mark class="comment">// OK</mark></code>
            <code>301 <mark class="comment">// Moved Permanently</mark></code>
            <code>302 <mark class="comment">// Moved Temporarily</mark></code>
            <code>304 <mark class="comment">// Not Modified</mark></code>
            <code>400 <mark class="comment">// Bad Request</mark></code>
            <code>401 <mark class="comment">// Unauthorized</mark></code>
            <code>404 <mark class="comment">// Not Found</mark></code>
            <code>405 <mark class="comment">// Method Not Allowed</mark></code>
            <code>414 <mark class="comment">// Request-URI Too Large</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <pre>
            <code>500 <mark class="comment">// Internal Server Error</mark></code>
            <code>502 <mark class="comment">// Bad Gateway</mark></code>
            <code>503 <mark class="comment">// Service Unavailable</mark></code>
            <code>504 <mark class="comment">// Gateway Timeout</mark></code>
        </pre>
    </div></section>

    <section class="slide"><div>
        <h2>AJAX</h2>
    </div></section>

    <section class="slide"><div>
        <h2>IFRAME</h2>
    </div></section>

    <section class="slide"><div>
        <h2>JSONP</h2>
    </div></section>

    <section class="slide"><div>
        <h2>CORS</h2>
    </div></section>

    <section class="slide"><div>
        <h2>WebSockets</h2>
    </div></section>

    <div class="progress"><div></div></div>
    <script src="/shower/shower.min.js"></script>
</body>
</html>
